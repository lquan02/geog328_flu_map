<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=EDGE"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="referrer" content="no-referrer">

        <!-- Including the Mapbox GL CSS file -->
        <link href="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <!-- Including the main.css file for styling -->
        <link rel="stylesheet" href="css/main.css">
        <!-- Including the Mapbox GL JS file -->
        <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.js"></script>
        <!-- ChartJS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
        <!-- Font awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

        <title>2022 U.S. Influenza Map</title>
    </head>
    <body>
        <header class="nav__bar">
            <div class="nav__content">
                <a class="logo active" href="index.html">2022 U.S Influenza Map</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <nav class="nav" id="myTopnav">
                    <ul class="nav__list">
                        <li class="nav__item">
                            <a class="nav-link active" href="index.html"><i class="fa-solid fa-house-chimney fa-xl"></i></a>
                        </li>
                        <li class="nav__item">
                            <a class="nav-link active" aria-current="page" onclick="openPopup(1)">
                                <i class="fa-regular fa-circle-question fa-xl"></i>
                            </a>
                        </li>
                        <li class="nav__item">
                            <a class="nav-link active" aria-current="page" onclick="openPopup(2)">
                                <i class="fa-solid fa-flag fa-xl"></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>  
        </header>
        <main class = "body-content">
            <div id = "popup-container"> 
                <div id = "description-popup">
                    <h2> Information <br><br></h2>
                    <a href="javascript:void(0)" id="closebtn" onclick="closePopup(1)">
                        <i class="fa-solid fa-xmark"></i>
                    </a>
                    <div id="content-popup">
                        <h3> About this Project </h3>
                            <p>
                                The 2022 Interactive Influenza Disease Map project stands as a comprehensive initiative driven by primary data sources extracted from the CDC Weekly U.S.
                                Influenza Surveillance Report, covering all 52 weeks of 2022. Our team meticulously curated two datasets, the first detailing flu cases categorized by Influenza types A and B
                                reported by U.S. Clinical Laboratories, and the second documenting influenza-related deaths by state, sourced from the NCHS Mortality Surveillance.
                                These two weekly datasets were combined as a single file and then aggregated by state, providing a robust foundation for a comprehensive annual influenza dataset for the year 2022. <br><br>
                            </p>
                        <h3> Project Goals </h3>
                            <p>
                                The primary goal of our project is to create a user-friendly and interactive map with a comprehensive visual representation of flu cases and related deaths in the United States for the year 2022. Building on the enriched datasets derived from the CDC, merged seamlessly with state geometries, our objective is to offer users not just a visual representation but a deeper understanding of the patterns and implications of flu activity across the nation.
                                <br>
                                <b>Enhanced User Engagement</b>: Beyond the surface level of presenting data, our project aspires to captivate users, fostering a high degree of engagement. The interactive map is designed not only to be visually appealing but also to encourage users to actively explore and interact with the data.
                                <br>
                                <b>Spatial and Temporal Analysis</b>: The interactive map is not merely a snapshot but a dynamic tool for spatial and temporal analysis. Users can delve into the ebb and flow of flu activity over the course of the year, discerning patterns and trends that might be obscured in static representations.
                                <br>
                                <b>Empowering Informed Decision-Making</b>: The ultimate goal is to empower users with the knowledge to make informed decisions. Whether it's a public health official devising targeted interventions, a policymaker allocating resources, or an individual taking personal precautions, our project aims to equip users with the information necessary for proactive decision-making.
                                <br><br>
                            </p>
                        <h3> Project Features</h3>
                            <p>
                                At the core of our project lies an intricately designed interactive choropleth map, skillfully implemented through the Mapbox GL JS library. This dynamic map serves as a compelling visual representation, portraying the distribution of reported flu cases and influenza-related deaths with vibrant detail across each state in the United States. Users are granted a flexible and seamless navigation experience, empowered by built-in interactive features that facilitate an in-depth exploration of specific states.
                                <br>
                                An intuitive hover effect enhances user orientation by dynamically altering the style of a state when hovered over, providing a visual cue of the user's current location on the map. Upon clicking individual states, the web map unfolds a wealth of information, presenting annual statistics detailing the total positive cases. Additionally, the map also features a dynamic line chart that vividly illustrates weekly data for each state. This chart is a powerful tool, spotlighting crucial metrics such as death cases, Type A, and Type B cases over time, allowing users to explore the temporal factors of the Influenza disease within a year.
                                <br>
                                The integration of geospatial and temporal data visualization into a single platform offers users a comprehensive and interactive experience. This web map facilitates exploration and deeper understanding of influenza disease statistics, not only at the national level but also with a granular focus on individual states. In essence, our map provides a sophisticated yet user-friendly tool for unraveling the complexities of flu-related data, fostering a nuanced comprehension of the impact of influenza across different regions and timeframes.
                                <br>
                                Our project is designed with a responsive layout, ensuring a smooth experience across various devices, including desktops, tablets, and smartphones. The responsive design enhances accessibility, allowing users to explore flu-related data anytime and anywhere. To promote a deeper understanding of influenza and its impact, the project incorporates resources from the CDC. This includes data from individual states categorized in a single data file.
                                <br><br>
                            </p>
                    </div>
                </div>
                <div id = "acknowledge-popup">
                    <h2> Acknowledgments <br><br> </h2>
                    <a href="javascript:void(0)" id="closebtn" onclick="close popup(2)">
                        <i class="fa-solid fa-xmark"></i>
                    </a>
                    <div id="content-popup">
                        <h3> Datasets </h3>
                            <p> All the influenza statistics are sourced from the <a href="https://www.cdc.gov/flu/weekly/index.htm">Weekly U.S. Influenza Surveillance Report</a>.</p>
                                <ul>
                                    <li>The positive cases by type are the results of tests performed by clinical laboratories nationwide.</li>
                                    <li>The Influenza-death related case sourced from the National Center for Health Statistics (NCHS) Mortality Surveillance.</li>
                                </ul>
                            <p>
                                The state geometry GeoJSON file is sourced from the data from <a href="https://github.com/jakobzhao/geog328/blob/main/labs/lab04/assets/state_data.geojson">GEOG 328 Lab 4</a>.
                                <br><br>
                            </p>
                        <h3> Applied Libraries </h3>
                            <ul>
                                <li><a href="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.css">MapboxGL CSS</a>,</li>
                                <li><a href="https://docs.mapbox.com/mapbox-gl-js/api/">MapboxGL JS</a>,</li>
                                <li><a href="https://docs.mapbox.com/mapbox-gl-js/api/">Mapbox style overlay </a> for the base map,</li>
                                <li><a href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js">ChartJS</a>for interactive charts,</li>
                                <li><a href="https://fontawesome.com/">Font Awesome</a> for icons, and</li>
                                <li><a href="https://github.com/">Github </a> for static site hosting service</li>
                            </ul>
                    </div>
                </div>    
            </div>
            <div id="map-container">
                <div id="map"></div>
                <div class='map-overlay' id='legend'> <p>Positive Cases </p> </div>
                <a href="javascript:void(0)" id="openbtn">
                    <i class="fa fa-bars" onclick="openNav()"></i>
                </a>
            </div>
            <div id="side-container">
                <a href="javascript:void(0)" id="closebtn" onclick="closeNav()">
                    <i class="fa-solid fa-xmark"></i>
                </a>
                <div id='features'>
                    <h2><b>2022 Influenza Statistics</b></h2>
                    <div id='text-description'>
                        <p>Click on a state!</p>
                    </div>
                </div>
                <div id="chart-container">
                    <canvas id="line-chart"></canvas>
                </div> 
                <div id="side-panel">
                    <h3>Annual Influenza Data by State</h3>
                    <table>
                        <tr>
                            <th>State <i id="name-button" class="fa fa-fw fa-sort"></i></th>
                            <th>Deaths <i id="deaths-button" class="fa fa-fw fa-sort"></i></th>
                            <th>Type A <i id="type-a-button" class="fa fa-fw fa-sort"></i></th>
                            <th>Type B <i id="type-b-button" class="fa fa-fw fa-sort"></i></th>
                        </tr>
                    </table>
                </div>
            </div>
        </main>
        <script src="js/main.js"></script>
    </body>
</html>
